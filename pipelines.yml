template: true
valuesFilePath: ./values.yml

resources:
 - name: myrepo
   type: GitRepo
   configuration:
      gitProvider: {{.Values.myRepo.gitProvider}}
      path: {{.Values.myRepo.path}}
      branches:
       include: kanishk_jfrog_demo


pipelines:
 - name: python_pipeline
   steps:
    - name: p1
      type: Bash
      configuration:
       inputResources:
        - name: myrepo
       runtime:
         type: host
      execution:
       onExecute:
        - python --version
        - docker --version
        - pushd $res_myrepo_resourcePath
        - python test.py
       onSuccess:
        - echo "finally"
       onFailure:
        - echo "next time"
